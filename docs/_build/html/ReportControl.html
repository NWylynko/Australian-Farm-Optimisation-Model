
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ReportControl module &#8212; Australian Farm Optimisation Model 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Debugging" href="debugging.html" />
    <link rel="prev" title="ReportFunctions module" href="ReportFunctions.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-ReportControl">
<span id="reportcontrol-module"></span><h1>ReportControl module<a class="headerlink" href="#module-ReportControl" title="Permalink to this headline">¶</a></h1>
<div class="section" id="background-and-usage">
<h2>Background and usage<a class="headerlink" href="#background-and-usage" title="Permalink to this headline">¶</a></h2>
<p>Reports are generated in a two step process. Firstly, each trial undergoes some ‘within trial’ calculations
(e.g. calc the sale price for a trial), the results are stacked together and stored in a table
(each report has its own table). The resulting table can then undergo some ‘between trial’ calculations
(e.g. graphing profit by sale price).</p>
<p>Tweaking the output of a given report is done in the ReportControl.py. Here the user specifies the report
properties. For example they can specify which axis to report in the table and which to average or another
example. The user can also specify report options. For example, what type of profit (eg is asset opportunity
cost included or not) they want to use in the profit by area curve.</p>
<p>To run execute this module with optional args &lt;processor number&gt; &lt;report number&gt;. If no arguments are passed
the 1 processor is used and the ‘default’ report group is run.</p>
<p>The trials to report are controlled in exp.xl.
The reports to run for a given report number are controlled in exp.xl.</p>
</div>
<div class="section" id="how-to-add-a-report">
<h2>How to add a report:<a class="headerlink" href="#how-to-add-a-report" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Add the required report variables to the <code class="docutils literal notranslate"><span class="pre">r_vals</span></code> dictionary - this is done in precalcs</p></li>
<li><p>Build a ‘within trial’ report function in Report.py (if an existing one does not meet your criteria)</p></li>
<li><p>Build a ‘between trial’ function (if an existing one does not meet your criteria). This is done
in the ‘Final reports’ subsection of ReportFunctions.py</p></li>
<li><p>Add it to exp.xlsx</p></li>
<li><p>in ReportControl.py add an empty df to stack results</p></li>
<li><p>in ReportControl.py build the ‘within trial’ and ‘between trial’ sections (this can easily be done by copying
existing code and makeing the relevant changes).</p></li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>When creating r_vals values try and do it in obvious spots so it is easier to understand later.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For livestock: livestock is slightly more complicated. If you add a r_val or lp_vars you
will also need to add it to f_stock_reshape the allows you to get the shape correct
(remove singlton axis and converts lp_vars from dict to numpy).</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If reporting dates from a numpy array it is necessary to convert to datetime64[ns] prior to converting to a DataFrame
For example:
data_df3 = pd.DataFrame(fvp_fdams.astype(‘datetime64[ns]’))  # conversion to dataframe only works with this datatype</p>
</div>
<p>author: Young</p>
<dl class="py function">
<dt id="ReportControl.f_report">
<code class="sig-prename descclassname"><span class="pre">ReportControl.</span></code><code class="sig-name descname"><span class="pre">f_report</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">processor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trials</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#ReportControl.f_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to wrap ReportControl.py so that multiprocessing can be used.</p>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Australian Farm Optimisation Model</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="model_doc.html">Model Logic</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="usage.html">Usage</a><ul>
  <li><a href="reporting.html">Output &amp; Reporting</a><ul>
      <li>Previous: <a href="ReportFunctions.html" title="previous chapter">ReportFunctions module</a></li>
      <li>Next: <a href="debugging.html" title="next chapter">Debugging</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Michael Young & John Young.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.5.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/ReportControl.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>