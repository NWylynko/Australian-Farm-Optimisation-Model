
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>StockFunctions module &#8212; Australian Farm Optimisation Model 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="StockPyomo module" href="StockPyomo.html" />
    <link rel="prev" title="Livestock" href="livestock_index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-StockFunctions">
<span id="stockfunctions-module"></span><h1>StockFunctions module<a class="headerlink" href="#module-StockFunctions" title="Permalink to this headline">¶</a></h1>
<p>All the calculation function for the simulation
Created on Sat Feb 29 08:05:09 2020</p>
<p>&#64;author: John</p>
<dl class="py function">
<dt id="StockFunctions.convert_fec2fs">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">convert_fec2fs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fec_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fec_p6f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feedsupply_f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_p6_pz</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.convert_fec2fs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.convert_fs2fec">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">convert_fs2fec</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fs_input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fec_p6f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feedsupply_f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_p6_pa1e1b1nwzida0e0b0xyg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.convert_fs2fec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_DSTw">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_DSTw</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scan_g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cycles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_DSTw" title="Permalink to this definition">¶</a></dt>
<dd><p>A numpy based calculation of the proportion of dry, single, twin &amp; triplet bearing dams from a scanning percentage.
Prediction is a polynomial formula y=intercept+ax+bx^2+cx^3+dx^4, where x is the scanning %
The coefficients for the prediction are assumed to have been derived from mating for 2 cycles.</p>
<p>scan_g : np array - scanning percentage of genotypes if mated for the number of calibration cycles.
cycles: int, optional - the number of calibration cycles relative to the number of prediction cycles.
Returns
——-
Proportion of dry, single, twins &amp; triplets.</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_animal_trigger_levels">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_animal_trigger_levels</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">age_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_shearing_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_wean_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gender</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">o_ebg_p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wool_genes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_joining_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">animal_mated</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_endmating_pg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_animal_trigger_levels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_application_level">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_application_level</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operation_triggered_h2pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">animal_triggervalues_h7pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operations_triggerlevels_h5h7h2pg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_application_level" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_birthweight_cs">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_birthweight_cs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_b_yatf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_f_dams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_birth</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_birthweight_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_birthweight_mu">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_birthweight_mu</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cu1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cb1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ce</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cf_w_b_dams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ffcfw_birth_dams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ebg_dams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gest_propn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_between_joinscan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_between_scanbirth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_birth</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_birthweight_mu" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_btrt0">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_btrt0</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dstwtr_propn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lstw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lstr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_btrt0" title="Permalink to this definition">¶</a></dt>
<dd><p>dstwtr_propn : np array, proportion of dams that are dry, singles, twin and triplets prior to birth.
lss : np array, survival of single born progeny at birth.
lstw : np array, survival of twin born progeny at birth.
lstr : np array, survival of triplet born progeny at birth.</p>
<p>btrt_b0xyg : np array, proportion of lambs in each btrt category (eg 11, 22, 21 …).
progeny_total_xyg: np array, total number of progeny alive after birth per ewe mated</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_c2g">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_c2g</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params_c2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_c2g" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>params_c2<span class="classifier">array</span></dt><dd><p>parameter array - input from excel.</p>
</dd>
<dt>y<span class="classifier">array</span></dt><dd><p>sensitivity array for genetic merit.</p>
</dd>
<dt>var_pos<span class="classifier">int</span></dt><dd><p>position of last axis when inserted into all axis.</p>
</dd>
</dl>
<p>param array for each genotype. Grouped by sheep group ie sire, offs, dams, yatf.</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_carryforward_u1">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_carryforward_u1</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cu1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ebg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_between_joinstartend</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_between_joinscan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_between_scanbirth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_between_birthwean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_propn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_carryforward_u1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_chill_cs">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_chill_cs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ck</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ffcfw_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rc_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mei</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meme</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mew</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">km</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kg_supp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kg_fodd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mei_propn_supp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mei_propn_herb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_ave_a1e1b1nwzida0e0b0xyg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_max_a1e1b1nwzida0e0b0xyg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_min_a1e1b1nwzida0e0b0xyg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ws_a1e1b1nwzida0e0b0xyg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rain_a1e1b1nwzida0e0b0xygm1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_m0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">guw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mei_propn_milk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gest_propn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lact_propn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_chill_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_comb">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_comb</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_comb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_conception_cs">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_conception_cs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cb1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relsize_mating</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rc_mating</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crg_doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nfoet_b1any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nyatf_b1any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_mating</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rev_trait_value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_conception_cs" title="Permalink to this definition">¶</a></dt>
<dd><p>CSIRO system: The general calculation is probability of conception greater than or equal to 1,2,3 foetuses
Probability is calculated from a sigmoid relationship based on relative size * relative condition at birth
The cumulative probability is scaled by a factor that varies with (litter size * latitude * day of the year)
The probability is an estimate of the number of dams carrying that number in the third trimester.
Some dams conceive (and don’t return to service) but don’t carry to the third trimester, this is taken into account.</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_conception_ltw">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_conception_ltw</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cu0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relsize_mating</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cs_mating</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scan_std</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy_p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nfoet_b1any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nyatf_b1any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_mating</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rev_trait_value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_conception_ltw" title="Permalink to this definition">¶</a></dt>
<dd><p>LTW system: The general calculation is scanning percentage is defined by a linear function of CS
The standard value (CS 3) is determined by the genotype and relative size
The slope varies with day of year
The proportion of dry, single, twin &amp; triplet is estimated as a function of the scanning percentage.</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_condensed">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_condensed</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lw_idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condense_w_mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_n_len</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_w_len</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_n_fvp_period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_condense</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_condensed" title="Permalink to this definition">¶</a></dt>
<dd><p>Condense variable to x common points along the w axis when period_is_condense.
Currently this function only handle 2 or 3 initial liveweights. The order of the returned W axis is M, H, L for 3 initial lws or H, L for 2 initial lws.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numbers</strong> – current end numbers</p></li>
<li><p><strong>var</strong> – production variable being condensed</p></li>
<li><p><strong>lw_idx</strong> – index specifying the sorted order of the w axis</p></li>
<li><p><strong>prejoin_tup</strong> – prejoin axis</p></li>
<li><p><strong>season_tup</strong> – season axis</p></li>
<li><p><strong>i_n_len</strong> – number of nutrition options</p></li>
<li><p><strong>i_w_len</strong> – length of w axis</p></li>
<li><p><strong>i_n_fvp_period</strong> – number of fvps</p></li>
<li><p><strong>numbers_start_condense</strong> – numbers at the previous condensing (used to calc mortality)</p></li>
<li><p><strong>period_is_condense</strong> – bool array</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_condition_score">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_condition_score</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cu0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_condition_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate CS from LW. Works with scalars or arrays - provided they are broadcastable into ffcfw.</p>
<p>ffcfw: (kg) Fleece free, conceptus free liveweight. normal_weight: (kg). cs_propn: (0.19) change in LW
associated with 1 CS as a proportion of normal_weight.</p>
<p>long version of the formula (use rc instead of using to following): 3 + (ffcfw - normal_weight) / (cs_propn * normal_weight)
Returns: condition score - float</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_contract_cost">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_contract_cost</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">application_level_h2pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">treatment_units_h8pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">husb_operations_contract_cost_h2pg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_contract_cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_create_production_param">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_create_production_param</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">production_vg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_kcluster_vg_1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_ktvg_1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_kcluster_vg_2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_kktvg_2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numbers_start_vg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_vg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_create_production_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Can convert total production to per animal production including impact of death if numbers have been included.
Apply the k clustering and collapse the e, b &amp; d axes
If numbers_start are not included then only applies k clustering - this is usually done if production is already per head</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_cum_dvp">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_cum_dvp</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dvp_pointer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_cum_dvp" title="Permalink to this definition">¶</a></dt>
<dd><p>This function does accumulative max but it resets at each dvp.</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_cum_sum_dvp">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_cum_sum_dvp</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dvp_pointer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_cum_sum_dvp" title="Permalink to this definition">¶</a></dt>
<dd><p>This function does accumulative sum but it resets at each dvp.</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_daylength">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_daylength</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dayOfYear</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_daylength" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the length of the day (the time between sunrise and
sunset) given the day of the year and latitude of the location.
Function uses the Brock model for the computations.
For more information see, for example,
Forsythe et al., “A model comparison for daylength as a
function of latitude and day of year”, Ecological Modelling,
1995.
Parameters
———-
dayOfYear : int</p>
<blockquote>
<div><p>The day of the year. 1 corresponds to 1st of January
and 365 to 31st December (on a non-leap year).</p>
</div></blockquote>
<dl class="simple">
<dt>lat<span class="classifier">float</span></dt><dd><p>Latitude of the location in degrees. Positive values
for north and negative for south.</p>
</dd>
</dl>
<dl class="simple">
<dt>d<span class="classifier">float</span></dt><dd><p>Daylength in hours.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_dim">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_dim</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_dim" title="Permalink to this definition">¶</a></dt>
<dd><p>a function that minimum value of zero otherwise difference between the 2 inputs</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_dynamic_slice">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_dynamic_slice</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_dynamic_slice" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_emissions_bc">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_emissions_bc</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intake_f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intake_s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">md_solid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_emissions_bc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_energy_cs">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_energy_cs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ck</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lw_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ffcfw_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mr_age</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mei</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">omer_history_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">md_solid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_md_supp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">md_herb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lgf_eff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dlf_eff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_steepness</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">density</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feedsupply</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intake_f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mei_propn_milk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sam_kg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sam_mr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_energy_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_fat_score">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_fat_score</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cu0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_fat_score" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_feedsupply">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_feedsupply</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feedsupply_std_a1e1b1nwzida0e0b0xyg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paststd_foo_a1e1b1j0wzida0e0b0xyg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paststd_dmd_a1e1b1j0wzida0e0b0xyg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paststd_hf_a1e1b1j0wzida0e0b0xyg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pi</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_feedsupply" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_feedsupply_adjust">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_feedsupply_adjust</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attempts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feedsupply</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">itn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_feedsupply_adjust" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_fibre">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_fibre</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cw_g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cc_g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ffcfw_start_g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relsize_start_g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d_cfw_history_start_m2g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mei_g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mew_min_g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d_cfw_ave_g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sfd_a0e0b0xyg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wge_a0e0b0xyg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">af_wool_g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dlf_wool_g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kw_yg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_period_g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sfw_ltwadj_g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sfd_ltwadj_g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rev_trait_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mec_g1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mel_g1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gest_propn_g1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lact_propn_g1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sam_pi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_fibre" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_foetus_cs">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_foetus_cs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cb1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nfoet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relsize_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rc_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_b_std_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_f_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nw_f_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nwf_age_f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">guw_age_f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dce_age_f</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_foetus_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_foo_convert">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_foo_convert</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cu3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cu4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pasture_stage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">treat_z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_foo_convert" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>cu3 :</dt><dd><p>this parameter should already be slice on the c4 axis.</p>
</dd>
<dt>cu4 :</dt><dd><p>this parameter should already be slice on the c4 axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_g2g">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_g2g</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array_g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">left_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">swap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">left_pos2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right_pos2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_g2g" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>array_g<span class="classifier">array</span></dt><dd><p>parameter array - input from excel.</p>
</dd>
<dt>group<span class="classifier">TYPE</span></dt><dd><p>DESCRIPTION.</p>
</dd>
<dt>left_pos<span class="classifier">int</span></dt><dd><p>position of axis to the left of where the new axis will be added.</p>
</dd>
<dt>swap<span class="classifier">boolean, optional</span></dt><dd><p>do you want to swap the first tow axis?. The default is False.</p>
</dd>
<dt>right_pos<span class="classifier">int, optional</span></dt><dd><p>the position of the axis to the right of the singleton axis being added. The default is -1, for when the axis to the right is g?.</p>
</dd>
<dt>left_pos2<span class="classifier">int</span></dt><dd><p>position of axis to the left of where the new axis will be added.</p>
</dd>
<dt>right_pos2<span class="classifier">int, optional</span></dt><dd><p>the position of the axis to the right of the singleton axis being added. The default is -1, for when the axis to the right is g?.</p>
</dd>
<dt>condition: boolean, optional</dt><dd><p>mask used to slice given axis.</p>
</dd>
<dt>axis: int, optional</dt><dd><p>axis to apply mask to.</p>
</dd>
</dl>
<p><a href="#id1"><span class="problematic" id="id2">*</span></a>note: if adding two sets of new axis add from right to left (then the pos variables align)</p>
<p>Reshapes, swaps axis if required, expands and converts g array to the correct g slices.</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_history">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_history</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">history</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_in_period</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_history" title="Permalink to this definition">¶</a></dt>
<dd><p>The idea that the f_history is implementing is for traits that have a lag from increased nutrition to increased production. 
The representation being that the production today is an average of the non-lagged estimated production from the last x days (where x is either len_m2 or len_m3, either of which can be 1 but are expected to be 25).
The history function is keeping track of the last x days of estimated production (slice 0 is the most recent day, slice -1 is the oldest day of the history). 
The process is:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>move the most recent history back (to make space for the production from this period: days_period)</p></li>
<li><p>make the 0:days_period = this period estimated production</p></li>
</ol>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_husbandry">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_husbandry</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">head_adjust</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mobsize_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">o_ffcfw_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">o_cfw_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operations_triggerlevels_h5h7h2pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">age_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_shear_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_wean_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gender</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">o_ebg_p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wool_genes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">husb_operations_muster_propn_h2pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">husb_requisite_cost_h6pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">husb_operations_requisites_prob_h6h2pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operations_per_hour_l2h2pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">husb_operations_infrastructurereq_h1h2pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">husb_operations_contract_cost_h2pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">husb_muster_requisites_prob_h6h4pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">musters_per_hour_l2h4pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">husb_muster_infrastructurereq_h1h4pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_nyatf_b1g</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_joining_pg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">animal_mated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_endmating_pg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_husbandry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_husbandry_component">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_husbandry_component</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">treatment_units</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">requirements</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">association</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes_tup</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_husbandry_component" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_husbandry_infrastructure">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_husbandry_infrastructure</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level_hpg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">husb_infrastructurereq_h1h2pg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_husbandry_infrastructure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_husbandry_labour">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_husbandry_labour</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level_hpg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">treatment_units_h8pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units_per_labourhour_l2hpg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_h8_h</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_husbandry_labour" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_husbandry_requisites">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_husbandry_requisites</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level_hpg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">treatment_units_h8pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">husb_requisite_cost_h6pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">husb_requisites_prob_h6hpg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_h8_h</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_husbandry_requisites" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_intake">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_intake</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">md_herb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feedsupply</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intake_s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_md_supp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legume</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mp2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_intake" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_kg">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_kg</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ck</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">belowmaint</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">km</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kg_supp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mei_propn_supp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kg_fodd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mei_propn_herb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mei_propn_milk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lact_propn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_kg" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>ck<span class="classifier">Numpy array</span></dt><dd><p>sim parameters - efficiency of energy use.</p>
</dd>
<dt>belowmaint<span class="classifier">Numpy array of Boolean</span></dt><dd><p>Is the animal class in energy deficit.</p>
</dd>
<dt>km<span class="classifier">Numpy array of float</span></dt><dd><p>Efficiency of energy use for maintenance.</p>
</dd>
<dt>kg_supp<span class="classifier">Numpy array</span></dt><dd><p>efficiency of supplement energy consumed used for LWG.</p>
</dd>
<dt>kg_fodd<span class="classifier">Numpy array</span></dt><dd><p>efficiency of herbage energy consumed used for LWG.</p>
</dd>
<dt>mei_propn_supp<span class="classifier">Numpy array</span></dt><dd><p>Proportion of energy consumed that was from supplement.</p>
</dd>
<dt>mei_propn_herb<span class="classifier">Numpy array</span></dt><dd><p>Proportion of energy consumed that was from herbage.</p>
</dd>
<dt>mei_propn_milk<span class="classifier">Numpy array</span></dt><dd><p>Proportion of energy consumed that was from milk.</p>
</dd>
<dt>kl<span class="classifier">Numpy array of float, Optional</span></dt><dd><p>Efficiency of energy use for lactation. The default is 0.</p>
</dd>
<dt>lact_propn<span class="classifier">Numpy array, optional</span></dt><dd><p>Proportion of the period that the dam is lactating. The default is 0.</p>
</dd>
</dl>
<p>kg - Efficiency of energy used for growth.</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_lw_distribution">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_lw_distribution</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ffcfw_dest_w8g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ffcfw_source_w8g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_w8</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dvp_type_next_tvgw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_lw_distribution" title="Permalink to this definition">¶</a></dt>
<dd><p>distributing animals on LW at the start of dvp
the 8 or 9 is dropped from the w if singleton</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_lwc_cs">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_lwc_cs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rc_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mei</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mem</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mew</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z1f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z2f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rev_trait_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gest_propn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lact_propn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_lwc_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_lwc_mu">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_lwc_mu</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rc_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mei</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mem</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mew</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z1f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z2f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rev_trait_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gest_propn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lact_propn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_lwc_mu" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_milk">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_milk</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relsize_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rc_birth_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mei</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meme</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mew_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rc_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ffcfw75_exp_yatf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lb_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ldr_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">age_yatf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mp_age_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mp2_age_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_x_pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_period_yatf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lact_nut_effect</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_milk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_mortality_base_cs">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_mortality_base_cs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rc_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ebg_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d_nw_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rev_trait_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sap_mortalityb</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_mortality_base_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_mortality_base_mu">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_mortality_base_mu</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rc_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ebg_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d_nw_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rev_trait_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sap_mortalityb</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_mortality_base_mu" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_mortality_dam_cs">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_mortality_dam_cs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cb1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nw_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ebg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_between_birth6wks</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gest_propn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sap_mortalitye</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_mortality_dam_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_mortality_dam_mu">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_mortality_dam_mu</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cu2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cs_birth_dams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_birth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nfoet_b1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sap_mortalitye</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_mortality_dam_mu" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_mortality_progeny_cs">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_mortality_progeny_cs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cb1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rc_birth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_b_exp_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_birth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chill_index_m1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nfoet_b1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rev_trait_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sap_mortalityp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_mortality_progeny_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_mortality_progeny_mu">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_mortality_progeny_mu</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cu2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cb1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ce</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_b_std</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chill_index_m1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_birth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rev_trait_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sap_mortalityx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_mortality_progeny_mu" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_mortality_weaner_cs">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_mortality_weaner_cs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">age</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ebg_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d_nw_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_period</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_mortality_weaner_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_mortality_weaner_mu">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_mortality_weaner_mu</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_mortality_weaner_mu" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_mustering_required">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_mustering_required</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">application_level_h2pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">husb_operations_muster_propn_h2pg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_mustering_required" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_next_prev_association">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_next_prev_association</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datearray_slice</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_next_prev_association" title="Permalink to this definition">¶</a></dt>
<dd><p>Depending on the inputs this function will return the next or previous association.
eg it can be used to determine the next lambing opportunity for each period.
See john stuff.py for alternative methods.</p>
<dl class="simple">
<dt>datearray_slice<span class="classifier">any</span></dt><dd><p>This is 1d array which the second array is sorted into (this must be sorted).</p>
</dd>
<dt><a href="#id3"><span class="problematic" id="id4">*</span></a>args<span class="classifier">1 - array, 2 - int</span></dt><dd><p>Arg 1: the period array 1d that is the index is being found for, note the index is based off the start date therefore must do [1:-1] if you want idx based on end date.
Arg 2: period offset (this may be needed if evaluating the end of the period.</p>
</dd>
</dl>
<dl class="simple">
<dt>Array</dt><dd><p>The function finds the index value of the datearray which is either the next or previous date for a given input date.
## The previous opportunity is the latest opportunity date that is less than the date at the end of the period
## eg (‘end of the period’ so that if joining occurs during the period it is the previous
## The next opportunity is the earliest joining date that is greater than the date at the start of the period
## eg So it is the prev + 1 except if the joining is occurring within the period, in which case it points to this one.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_norm_cdf">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_norm_cdf</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cv</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_norm_cdf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_operations_triggered">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_operations_triggered</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">animal_triggervalues_h7pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operations_triggerlevels_h5h7h2pg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_operations_triggered" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_p2v">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_p2v</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">production_p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dvp_pointer_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numbers_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_hand_tp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_period_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_tp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_any1_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_any1tp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_any2_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_any2any1tp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_p2v" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_p2v_std">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_p2v_std</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">production_p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dvp_pointer_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_vp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numbers_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_hand_tvp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_period_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_tvp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_any1_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_any1tvp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_any2_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_any2any1tvp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sumadj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_p2v_std" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_period_end_nums">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_period_end_nums</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numbers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mortality</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numbers_min_b1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mortality_yatf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nfoet_b1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nyatf_b1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conception</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gbal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gender_propn_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_mating</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_matingend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_birth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_scan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propn_dams_mated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_period_end_nums" title="Permalink to this definition">¶</a></dt>
<dd><p>This adjusts numbers for things like conception and mortality that happen during a given period</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_period_is_">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_period_is_</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">period_is</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_start_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_array2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_end_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_period_is_" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>period_is<span class="classifier">string</span></dt><dd><p>type of period is calc to return.</p>
</dd>
<dt>date_start_p<span class="classifier">datetime64[D]</span></dt><dd><p>start date of each period (must have all axis).</p>
</dd>
<dt>date_end_p<span class="classifier">datetime64[D]</span></dt><dd><p>end date of each period (must have all axis).</p>
</dd>
<dt>date_array<span class="classifier">datetime64[D]</span></dt><dd><p>array of dates of interest eg mating dates.</p>
</dd>
<dt>date_array2<span class="classifier">datetime64[D]</span></dt><dd><p>array of end dates used to determine if period is between.</p>
</dd>
</dl>
<p>period_is: boolean array shaped like the date array with the addition of the p axis. This is is true if a given date from date array is within the date of a given period and false if not.</p>
<p>period_is_any: 1D boolean array shape of the period dates array. True if any of the dates in the date array fall into a given period.</p>
<p>period_is_between: return true if a the period is between two dates (it is inclusive ie if an activity occurs during the period that period will be treated as between the two dates)</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_period_start_nums">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_period_start_nums</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numbers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prejoin_tup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">season_tup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_startseason</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">season_propn_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nyatf_b1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numbers_initial_repro</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gender_propn_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_prejoin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_birth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_period_start_nums" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_period_start_prod">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_period_start_prod</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numbers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prejoin_tup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">season_tup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_startseason</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_min_lw_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_prejoin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_period_start_prod" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_potential_intake_cs">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_potential_intake_cs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ci</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relsize_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rc_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_lc_dams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_ave</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rain_intake</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rc_birth_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pi_age_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lb_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mp2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">piyf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_between_birthwean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sam_pi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_potential_intake_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_potential_intake_mu">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_potential_intake_mu</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">srw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_potential_intake_mu" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_progenycfw_mu">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_progenycfw_mu</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cu1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfw_adj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cf_cfw_dams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ffcfw_birth_dams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ffcfw_birth_std_dams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ebg_dams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gest_propn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_between_joinscan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_between_scanbirth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_birth</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_progenycfw_mu" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_progenyfd_mu">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_progenyfd_mu</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cu1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fd_adj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cf_fd_dams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ffcfw_birth_dams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ffcfw_birth_std_dams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ebg_dams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gest_propn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_between_joinscan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_between_scanbirth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_birth</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_progenyfd_mu" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_ra_cs">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_ra_cs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">foo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_ra_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_ra_mu">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_ra_mu</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cu0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_ra_mu" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_ramp">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_ramp</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_ramp" title="Permalink to this definition">¶</a></dt>
<dd><p>RAMP function CSIRO equation 125a</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_rev_update">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_rev_update</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trait_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trait_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rev_trait_value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_rev_update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_rq_cs">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_rq_cs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legume</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_sf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_rq_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_sale_value">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_sale_value</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cu0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">o_rc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">o_ffcfw_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dressp_adj_yg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dresspercent_adj_s6pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dresspercent_adj_s7pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_price_s7s5s6pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month_scalar_s7pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month_discount_s7pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price_type_s7pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cvlw_s7s5pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cvscore_s7s6pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_weightrange_s7s5pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_scorerange_s7s6pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">age_end_p5g1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discount_age_s7pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sale_cost_pc_s7pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sale_cost_hd_s7pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_s7x_s7pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sale_agemax_s7pg1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_sale_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_salep_mob">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_salep_mob</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weight_s7pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scores_s7s6pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cvlw_s7s5pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cvscore_s7s6pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_weightrange_s7s5pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_scorerange_s7s6p5g</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_priceslw_s7s5s6pg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_salep_mob" title="Permalink to this definition">¶</a></dt>
<dd><p>A function to calculate the average price of the mob based on the average specifications in the mob.
This is to represent that the distribution of weight &amp; specification reduces the mob average price
This representation allows valuing individual animal management and reducing the mob distribution.
Note: if the distribution extends below the lower range of weight or score in the grid these animals have zero value (ncv)</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_saleprice">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_saleprice</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score_pricescalar_s7s5s6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_pricescalar_s7s5s6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_saleprice" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_season_wa">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_season_wa</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numbers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">season</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_min_lw_z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_startseason</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_season_wa" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform weighted average across seasons, at the beginning of each season.
So all seasons start from a common place.
The animals with the lightest liveweight patterns (there could be multiple because depending on the fvp the w axis may be clustered)</p>
<blockquote>
<div><p>at the time of season start are assigned the lowest live weight from across the z axis rather than the weighted average,
so that light animals are not lost in the postprocessing distribution.</p>
</div></blockquote>
<p>Don’t need to worry about mortality in the different slices because this is not to do with condensing (in condensing we take the weights of animals with less than 10% mort).</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_sig">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_sig</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_sig" title="Permalink to this definition">¶</a></dt>
<dd><p>Sig function CSIRO equation 124 ^the equation below is the sig function from SheepExplorer</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_sire_req">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_sire_req</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sire_propn_a1e1b1nwzida0e0b0xyg1g0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sire_periods_g0p8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_sire_recovery</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i_startyear</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_end_p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_prejoin_a1e1b1nwzida0e0b0xyg1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_sire_req" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_treatment_unit_numbers">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_treatment_unit_numbers</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">head_adjust</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mobsize_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">o_ffcfw_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">o_cfw_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_nyatf_b1g</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_treatment_unit_numbers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_wbe">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_wbe</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_wbe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_weanweight_cs">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_weanweight_cs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">w_w_yatf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ffcfw_start_yatf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ebg_yatf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_wean</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_weanweight_cs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_weanweight_mu">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_weanweight_mu</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cu1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cb1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ce</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nyatf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cf_w_w_dams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ffcfw_wean_dams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ebg_dams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foo_ave_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days_period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day_of_lactation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_between_joinscan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_between_scanbirth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_between_birthwean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period_is_wean</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_weanweight_mu" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_wool_additional">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_wool_additional</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cvfd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.22</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cvsl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.18</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_wool_additional" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_wool_value">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_wool_value</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mpg_w4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfw_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fd_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sl_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ss_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vm_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmb_pg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_wool_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the net value of the wool on the sheep’s back (cost of shearing is not included in these calculations)
Includes adjusting price for FD, level of fault (VM &amp; predicted hauteur) and all components of the clip (STB)
FNF is ‘free or nearly free’ i.e. wool with no fault (low VM &amp; high SS)
STB is sweep the board i.e. including all the wool types that are produced (fleece, pieces, bellies …)
NIB is net in the bank i.e. all selling, testing &amp; freight costs removed</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.f_woolprice">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">f_woolprice</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.f_woolprice" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the micron price guide (MPG) for a range of FD (where the FD is of the fleece component of the clip)
Includes sensitivity on the average micron price guide (MPG) and the premium for finer wool
The inputs for the function are:
i_woolp_mpg_range_w5 - the percentile values for which the MPG is input
i_woolp_mpg_w5 - the MPG for the base FD at each of the percentile levels
i_woolp_mpg_percentile - the percentile level to use for this trial
i_woolp_fdprem_range_w5 - the percentile values for which the FD premium is input
i_woolp_fdprem_w4w5 - the FD premium at each of the percentile levels
i_woolp_fdprem_percentile - the percentile level to use for this trial</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.roll_slices">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">roll_slices</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roll</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roll_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.roll_slices" title="Permalink to this definition">¶</a></dt>
<dd><p>The function rolls each slice for a given axis (the np roll function rolls each slice the same)
you can roll different slices by different amounts
:param array: array to be rolled
:param roll: number of times the slice is to be rolled - this array should have one less dim than the main array
:param roll_axis: axis to roll down
:return:</p>
</dd></dl>

<dl class="py function">
<dt id="StockFunctions.sim_periods">
<code class="sig-prename descclassname"><span class="pre">StockFunctions.</span></code><code class="sig-name descname"><span class="pre">sim_periods</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">periods_per_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oldest_animal</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#StockFunctions.sim_periods" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the dates for the simulation periods.
Starts on 1 Jan of the year with the earliest birthdate.</p>
<p>Parameters:
start_year = int: year to start simulation.
periods_per_year = int:
oldest_animal = float: age of the oldest animal to be simulated (yrs)</p>
<p>Returns:
n_sim_periods
array of period dates (1D periods)
array of period end dates (1D periods) (date of the last day in the period)
index of the periods (for pyomo)
step - seconds in each period</p>
</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Australian Farm Optimisation Model</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="model_doc.html">Model Logic</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="model_doc.html">Model Logic</a><ul>
  <li><a href="livestock_index.html">Livestock</a><ul>
      <li>Previous: <a href="livestock_index.html" title="previous chapter">Livestock</a></li>
      <li>Next: <a href="StockPyomo.html" title="next chapter">StockPyomo module</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Michael Young & John Young.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.5.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/StockFunctions.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>