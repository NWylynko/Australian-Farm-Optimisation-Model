
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RotGeneration module &#8212; Australian Farm Optimisation Model 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="RotationPhases module" href="RotationPhases.html" />
    <link rel="prev" title="Rotation" href="rotation_index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-RotGeneration">
<span id="rotgeneration-module"></span><h1>RotGeneration module<a class="headerlink" href="#module-RotGeneration" title="Permalink to this headline">¶</a></h1>
<p>author: young</p>
<div class="section" id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>This module generate the rotation info and writes it to excel.
This is because it is a bit slow and only need to be recalculated
when rotation rules are changed or new land uses are added.</p>
<dl class="simple">
<dt>There are three options</dt><dd><ol class="arabic simple">
<li><p>Generate a large list of rotations using RotGeneration.py. The rotation generator generates all rotation options
as default. This results in slow model execution time due to relatively long Pyomo matrix construction time.
However the user has the ability to remove certain landuses before generating the array of phases (e.g. tedera
and lucerne can be removed). Simulation modelling is used to generate the inputs.</p></li>
<li><p>Generate a ‘custom’ list of rotations using RotGeneration.py. The user can specify the rotations they want
generated by populating the ds_user_rot_init array and, at the top of the module, turn the boolean setting
called cutomised_rotations to True and re-run the module. Simulation modelling is used to generate the inputs for these rotations.</p></li>
<li><p>Generate a custom list of rotations and their inputs. The user can input the phases and their respective
yield, chem and fert requirements into property.xlsx. RotGeneration.py is still required to be executed because
it generates the coefficients for each rotation activity for the rotation constraints.</p></li>
</ol>
</dd>
</dl>
</div>
<div class="section" id="automatic-phase-generation">
<h2>Automatic phase generation<a class="headerlink" href="#automatic-phase-generation" title="Permalink to this headline">¶</a></h2>
<p>The process for generating the phases is:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Generate all combinations of the landuses that are possible in each year. The necessary landuses to represent reduces for the older years in the history because the rotations can be generalised.</p></li>
<li><p>Run the ‘drop’ rules to delete those phases that are not required because they are unprofitable or non logical and don’t need to be included.</p></li>
<li><p>Create the ‘history required’ = Yr5, Yr4, Yr3, Yr2, Yr1</p></li>
<li><p>Create the ‘history provided’ = Yr4, Yr3, Yr2, Yr1, Yr 0</p></li>
</ol>
</div></blockquote>
<p>Parameters that define the rotation phases.</p>
<blockquote>
<div><p>These are the fundamental concepts that control the generalisation of rotation phases. If multiple land uses in the
history are deemed to have the same effect on the current land use then they can be clustered which reduces the
number of rotation phases which need to be represented. For example, if the assumption is that all cereal crops
three years ago have the same impact on the current land use then we can reduce the number of rotations phases
by cluster all cereal crop in yr3 of the history. See below for the current rules used for clustering.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>rotations are built in an inflexible way currently, in the future it would be good to build them more
automatically using the params below.</p>
</div>
<p>Number of years:</p>
<ul class="simple">
<li><p>of consecutive cereal before yields plateau (c_cereal = 3)</p></li>
<li><p>of consecutive non-annual pasture before annual pasture needs to be resown (resow_a = 4)</p></li>
<li><p>…ditto for lucerne (resow_u = 1)</p></li>
<li><p>…ditto for tedera (resow_t = 1)</p></li>
<li><p>that spraytopping or pasture manipulation impacts on crop yields or pasture seed bank (spraytop = 1).</p></li>
<li><p>that pasture manipulation followed by spraytopping impacts on yields or seed bank (manip_sprayt=2) on the assumption that manipulation + spraytopping has a greater effect than spraytopping alone.</p></li>
<li><p>of legume pasture that will still be increasing soil N levels (build_n = 5)</p></li>
<li><p>of non-legume crop to utilise all soil organic N, if built to maximum levels (use_n = 3)</p></li>
<li><p>of annual pasture till the seed bank is fully replenished and independent of crop history (build_seed = 2)</p></li>
<li><p>of consecutive non-annual that continues to deplete the seed bank (deplete_seed = 3)</p></li>
<li><p>of non-canola till canola disease levels have decreased to a minimum (canola_disease = 3)</p></li>
<li><p>of non-pulse till pulse disease levels have decreased to a minimum (pulse_disease = 3)</p></li>
<li><p>of years of continuous tedera before it needs resowing (tedera_resowing = 10)</p></li>
<li><p>of Lucerne before it needs to be resown (lucerne_resowing = 5)</p></li>
</ul>
<p>Length of rotation phase = maximum(resow_a, resow_u, resow_t, use_n, canola disease, pulse disease, spraytopping, manip_sprayt) + 1
Year to start numbering the legume pasture landuses = phase_length - use_n + 1
Maximum landuse number for legume pasture = build_n</p>
</div></blockquote>
<p>The following rules are implemented to remove illogical rotation phases:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>If it is Lucerne after non-Lucerne then it must be resown</p></li>
<li><p>If it is Tedera after non-Tedera then it must be resown</p></li>
<li><p>If it is annual pasture after 4 other non-annual pasture phases then the annual pasture must be resown</p></li>
</ol>
</div></blockquote>
<p>The following rules are implemented to remove unprofitable rotation phases:</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>These rules may need to be tweaked for certain analyses. For example, in the seasonal variation model it may
be sensible to include a after s and m or maybe s after s and m after m. This will allow tactical adjustment to
remain with annual pasture even though cropping was the strategic decision.</p>
</div>
<ol class="arabic simple">
<li><p>No continuous canola (due to canola disease)</p></li>
<li><p>No continuous pulse crops (due to pulse disease)</p></li>
<li><p>No pulse crop after a pasture (this would constitute a poor use of N fixed by the legume pasture)</p></li>
<li><p>No annual pasture after a spray-topped annual pasture (spray-topping reduces future germination
and is almost always solely used to prepare a field for subsequent cropping)</p></li>
<li><p>No annual pasture (other than spray-topped pasture) after a manipulated annual pasture (usually the
purpose of pasture manipulation is to help prepare a field for subsequent cropping. However, cropping
aside, a spray-topped pasture is feasible use of a field that has had its pasture manipulated)</p></li>
<li><p>No single year of Tedera or Lucerne (1yr of a perennial is not a likely profitable use of that perennial)</p></li>
<li><p>Only a single pasture variety in a rotation phase.</p></li>
</ol>
</div></blockquote>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Australian Farm Optimisation Model</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="model_doc.html">Model Logic</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="model_doc.html">Model Logic</a><ul>
  <li><a href="rotation_index.html">Rotation</a><ul>
      <li>Previous: <a href="rotation_index.html" title="previous chapter">Rotation</a></li>
      <li>Next: <a href="RotationPhases.html" title="next chapter">RotationPhases module</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Michael Young & John Young.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.5.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/RotGeneration.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>